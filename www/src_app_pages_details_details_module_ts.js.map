{"version":3,"file":"src_app_pages_details_details_module_ts.js","mappings":"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","sources":["./src/app/pages/details/details-routing.module.ts","./src/app/pages/details/details.module.ts","./src/app/pages/details/details.page.ts","./src/app/pages/details/details.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailsPage } from './details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailsPageRoutingModule } from './details-routing.module';\n\nimport { DetailsPage } from './details.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    DetailsPageRoutingModule\n  ],\n  declarations: [DetailsPage]\n})\nexport class DetailsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Auth } from '@angular/fire/auth';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { AvatarService } from 'src/app/services/avatar.service';\nimport { OverlayService } from 'src/app/services/overlay.service';\nimport { Geolocation } from '@capacitor/geolocation';\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\n\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.page.html',\n  styleUrls: ['./details.page.scss'],\n})\nexport class DetailsPage implements OnInit {\n\n  form: FormGroup;\n  coordinates: any;\n  approve2: boolean;\n  selected: any = 'Select Role';\n  cartypes: import(\"@angular/fire/firestore\").DocumentData[];\n  currentcar: any;\n  imageURl: any;\n  licenseURl: any;\n  licenseImage: any;\n  profileImage: any;\n  constructor(\n    private overlay: OverlayService, private authy: Auth, private auth: AuthService, private avatar: AvatarService, private router: Router\n  ) { }\n\n  ngOnInit() {\n\n     this.avatar.getRoles().subscribe((d)=>{\n      console.log(d);\n      this.cartypes = d\n     })\n\n    this.form = new FormGroup({\n      fullname: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      lastname: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      email: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n    });\n  }\n  \n\n  async chooseCarType(even){\n    console.log(even.detail.value);\n      this.currentcar = even.detail.value.name\n  }\n\n  async changeImage() {\n    try{\n    const image = await Camera.getPhoto({\n      quality: 20,\n      allowEditing: false,\n      resultType: CameraResultType.DataUrl,\n      source: CameraSource.Camera, // Camera, Photos or Prompt!\n    });\n    this.imageURl = image.dataUrl\n    this.profileImage = image.dataUrl\n\n  }catch(e){\n    this.overlay.showAlert('Error', e)\n  }\n  }\n\n  async changeLicense() {\n    try{\n    const image = await Camera.getPhoto({\n      quality: 20,\n      allowEditing: false,\n      resultType: CameraResultType.DataUrl,\n      source: CameraSource.Camera, // Camera, Photos or Prompt!\n    });\n    this.licenseURl = image.dataUrl\n    this.licenseImage = image.dataUrl;\n  }catch(e){\n    this.overlay.showAlert('Error', e)\n  }\n  }\n\n\n\n\n  async signIn() {\n    try {\n      await Geolocation.checkPermissions();\n      const coordinates = await Geolocation.getCurrentPosition();\n        this.approve2 = true\n        if (this.profileImage  && this.currentcar && this.form.value.fullname && this.form.value.lastname && this.form.value.email && this.imageURl){\n        await this.avatar.CreateAdmin(this.form.value.fullname + '' + this.form.value.lastname, this.form.value.email, this.authy.currentUser.phoneNumber, this.currentcar, this.imageURl, true)\n        this.approve2 = false;\n        this.router.navigateByUrl('home');\n        }else{\n          this.overlay.showAlert('Incomplete', \"Complete the form\")\n        }\n    } catch(e) {\n      this.overlay.showAlert('Error', e)\n    }\n  }\n\n\n\n\n}\n","\n<!-- <ion-header class=\"ion-no-border\">\n  <ion-toolbar class=\"ion-text-center\">\n \n    <ion-title> Complete Your Profile </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n\n<ion-content>\n\n  <ion-list class=\"ion-padding\">\n   \n    <ion-item-group>\n      <form [formGroup]=\"form\" >\n\n        <div>\n          <ion-list-header>\n           \n            <ion-label color=\"primary\" class=\"ion-text-center\">\n              <h1>Personal Information</h1>\n              </ion-label>\n             </ion-list-header>\n\n          <ion-item class=\"ion-margin\">\n            <ion-input \n              formControlName=\"fullname\" \n              placeholder=\"First Name\" \n              type=\"text\"\n              minlength=\"1\"\n              maxlength=\"200\">\n            </ion-input>\n          </ion-item>\n\n          <ion-item class=\"ion-margin\">\n\n            <ion-input \n              formControlName=\"lastname\" \n              placeholder=\"Last Name\" \n              type=\"text\"\n              minlength=\"1\"\n              maxlength=\"200\">\n            </ion-input>\n          </ion-item>\n\n          <ion-item class=\"ion-margin\">\n            <ion-input \n            formControlName=\"email\" \n            placeholder=\"Your Email\" \n            type=\"text\"\n            minlength=\"1\"\n            maxlength=\"200\">\n          </ion-input>\n          </ion-item>\n\n       \n\n\n          <ion-item class=\"ion-margin\">\n            <ion-select placeholder=\"{{selected}}\" [value]=\"selected\" (ionChange)=\"chooseCarType($event)\">\n            <ion-select-option *ngFor=\"let card of cartypes\" [value]=\"card\">{{card.name}}</ion-select-option>\n          </ion-select>\n        </ion-item>\n\n      </div>\n       \n\n            <div class=\"preview ion-margin-bottom\">\n\n              <ion-avatar (click)=\"changeImage()\">\n                <img *ngIf=\"profileImage; else placeholder_avatar;\" [src]=\"profileImage\" />\n          \n                <ng-template #placeholder_avatar>\n                  <div class=\"fallback\">\n                    <p>Profile Picture</p>\n                  </div>\n                </ng-template>\n              </ion-avatar>\n              \n            </div>\n          \n\n\n      <ion-button shape=\"round\" size=\"large\" type=\"submit\" [disabled]=\"!form.valid\" color=\"primary\" (click)=\"signIn()\" expand=\"block\">\n        <ion-label *ngIf=\"!approve2\">Continue</ion-label>\n        <ion-icon *ngIf=\"!approve2\" color='light' slot=\"end\" name=\"arrow-forward\"></ion-icon>\n        <ion-progress-bar *ngIf=\"approve2\" color='light' type=\"indeterminate\"></ion-progress-bar>\n      </ion-button>\n\n    </form>\n\n    </ion-item-group>\n\n\n\n\n      </ion-list>\n\n\n</ion-content>"],"names":["FormControl","FormGroup","Validators","Geolocation","Camera","CameraResultType","CameraSource","i0","DetailsPage","constructor","overlay","authy","auth","avatar","router","ngOnInit","getRoles","subscribe","d","console","log","cartypes","form","fullname","validators","required","minLength","maxLength","lastname","email","chooseCarType","even","detail","value","currentcar","name","changeImage","image","getPhoto","quality","allowEditing","resultType","DataUrl","source","imageURl","dataUrl","profileImage","e","showAlert","changeLicense","licenseURl","licenseImage","signIn","checkPermissions","coordinates","getCurrentPosition","approve2","CreateAdmin","currentUser","phoneNumber","navigateByUrl","selectors","decls","vars","consts","template","ctx","_r2"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}